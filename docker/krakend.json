{
    "version": 3,
    "name": "KrakenD-OpenID Gateway",
    "port": 8000,
    "endpoints": [
      {
        "endpoint": "/protected/{proxy_path+}",
        "output_encoding": "json",
        "backend": [
          {
            "url_pattern": "/{proxy_path+}",
            "host": ["http://google.com"]
          }
        ],
        "extra_config": {
          "github.com/devopsfaith/krakend-jose/validator": {
            "alg": "RS256",
            "jwk-url": "http://keycloak:8080/auth/realms/master/protocol/openid-connect/certs",
            "issuer": "http://keycloak:8080/auth/realms/master"
          }
        }
      },
      {
        "endpoint": "/auth/{proxy_path+}",
        "output_encoding": "json",
        "backend": [
          {
            "url_pattern": "/auth/{proxy_path+}",
            "host": ["http://keycloak:8080"]
          }
        ]
      }
    ]
  }
  